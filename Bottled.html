<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8" />
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #video-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1; /* Video stays behind */
        }

        #click-zone {
            position: absolute;
            top: 30%;
            left: 30%;
            width: 40%;
            height: 40%;
            cursor: pointer;
            display: block; /* Always active */
            z-index: 2; /* Zone always on top */
        }
    </style>
</head>

<body>
    <div id="video-container">
        <video id="myVideo" autoplay muted>
            <source src="Animations/Bottle_in_the_sea.mp4" type="video/mp4" />
            Votre navigateur ne supporte pas la balise vidéo.
        </video>
        <div id="click-zone"></div> <!-- Big invisible button -->
    </div>

    <script>
        var video = document.getElementById('myVideo'),
            clickZone = document.getElementById('click-zone'),
            currentSection = 0,
            sections = [
                { start: 0, end: 8, next: 8 },   // Loop 0-8s → Click to play 8-13s
                { start: 8, end: 13, next: 13 }, // Play 8-13s → Loop 13-18s
                { start: 13, end: 18, next: 18 }, // Loop 13-18s → Click to play 18-24s
                { start: 18, end: 24, next: 24 }, // Play 18-24s → Loop 24-30s
                { start: 24, end: 30, next: "redirect" } // Last loop → Click to leave
            ];

        function setSection(index) {
            currentSection = index;
            video.currentTime = sections[index].start;
            video.play();
        }

        clickZone.onclick = () => {
            let nextStart = sections[currentSection].next;

            if (nextStart === "redirect") {
                window.location.href = "https://jeannottiphaine.myportfolio.com/";
            } else {
                video.currentTime = nextStart;
                video.play();
                currentSection++;
            }
        };

        video.addEventListener('timeupdate', function () {
            let position = video.currentTime;
            let currentEnd = sections[currentSection].end;

            // Loop if in a looping section
            if (position >= currentEnd && currentSection % 2 === 0) {
                video.currentTime = sections[currentSection].start;
            }
        });

        setSection(0);
    </script>
</body>

</html>